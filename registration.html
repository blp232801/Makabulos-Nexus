<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Early Registration</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --primary: #006400;
      --secondary: #228b22;
      --accent: #00c853;
      --light-bg: #f9f9f9;
      --card-bg: rgba(255,255,255,0.7);
      --shadow: 0 8px 20px rgba(0,0,0,0.15);
      --radius: 16px;
      --transition: 300ms ease;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      min-height: 100vh;
      overflow-y: auto;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 30px;
      background: linear-gradient(270deg, #fdfbfb, #e8f5e9, #f1f8e9);
      background-size: 600% 600%;
      animation: gradientShift 15s ease infinite;
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .form-container {
      width: 100%;
      max-width: 700px;
      background: var(--card-bg);
      padding: 30px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
      border: 2px solid rgba(255,255,255,0.3);
      animation: fadeInUp 1s ease forwards, floaty 6s ease-in-out infinite;
    }
    @keyframes floaty {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-8px); }
    }
    h1 {
      text-align: center;
      color: var(--primary);
      margin-bottom: 25px;
      font-size: 30px;
      font-weight: 900;
      text-shadow: 1px 1px 6px rgba(0,100,0,0.15);
      position: relative;
    }
    h1::after {
      content: "";
      display: block;
      width: 60px;
      height: 4px;
      margin: 10px auto 0;
      border-radius: 2px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      animation: shimmer 3s linear infinite;
    }
    @keyframes shimmer {
      0% { transform: scaleX(0); opacity: 0.5; }
      50% { transform: scaleX(1); opacity: 1; }
      100% { transform: scaleX(0); opacity: 0.5; }
    }
    label {
      display: block;
      margin: 12px 0 6px;
      font-weight: 600;
      color: var(--secondary);
      font-size: 15px;
    }
    input, select {
      width: 100%;
      padding: 12px;
      border: 2px solid transparent;
      border-radius: var(--radius);
      font-size: 15px;
      transition: border var(--transition), box-shadow var(--transition), background var(--transition);
      background: rgba(255,255,255,0.85);
    }
    input:focus, select:focus {
      border: 2px solid var(--accent);
      outline: none;
      box-shadow: 0 0 10px rgba(0,200,83,0.4);
      background: #ffffff;
    }
    .submit-btn, .home-btn {
      display: block;
      width: 100%;
      padding: 14px;
      font-size: 16px;
      font-weight: 700;
      border: none;
      border-radius: var(--radius);
      cursor: pointer;
      margin-top: 20px;
      transition: transform var(--transition), box-shadow var(--transition), background 0.4s;
      position: relative;
      overflow: hidden;
    }
    .submit-btn {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #fff;
    }
    .home-btn {
      background: linear-gradient(135deg, #2196f3, #1976d2);
      color: #fff;
    }
    .submit-btn::before, .home-btn::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: rgba(255,255,255,0.25);
      transform: skewX(-30deg);
      transition: left 0.6s ease;
    }
    .submit-btn:hover::before, .home-btn:hover::before {
      left: 100%;
    }
    .submit-btn:hover, .home-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>

  <!-- Firebase SDK scripts -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body>
  <div class="form-container">
    <h1>Early Registration Form</h1>
    <form id="registrationForm">
      <label for="studentName">Full Name of Student</label>
      <input type="text" id="studentName" required />

      <label for="gradeLevel">Grade Level Applying</label>
      <select id="gradeLevel" required>
        <option value="">Select Grade</option>
        <option>Grade 7</option>
        <option>Grade 8</option>
        <option>Grade 9</option>
        <option>Grade 10</option>
        <option>Grade 11</option>
        <option>Grade 12</option>
      </select>

      <label for="dob">Date of Birth</label>
      <input type="date" id="dob" required />

      <label for="gender">Gender</label>
      <select id="gender" required>
        <option value="">Select Gender</option>
        <option>Male</option>
        <option>Female</option>
      </select>

      <label for="address">Home Address</label>
      <input type="text" id="address" required />

      <label for="parentName">Parent/Guardian Name</label>
      <input type="text" id="parentName" required />

      <label for="contactNumber">Contact Number</label>
      <input type="tel" id="contactNumber" required />

      <button type="submit" class="submit-btn">Submit Registration</button>
    </form>

    <button class="home-btn" onclick="goHome()">Back to Home</button>
    <button class="home-btn" onclick="viewSubmissions()">View Submitted Form</button>
  </div>

  <script>
    // Initialize Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyBn7cSXwAAm6f5vhUQw3IIHoCoTUJ4G6dc",
      authDomain: "poll-cc59a.firebaseapp.com",
      databaseURL: "https://poll-cc59a-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "poll-cc59a",
      storageBucket: "poll-cc59a.firebasestorage.app",
      messagingSenderId: "109784141891",
      appId: "1:109784141891:web:ed87e81cf966faaf3bc4f6",
      measurementId: "G-B6F29X0YR5"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Form submit
    document.getElementById('registrationForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const data = {
        name: document.getElementById('studentName').value,
        grade: document.getElementById('gradeLevel').value,
        dob: document.getElementById('dob').value,
        gender: document.getElementById('gender').value,
        address: document.getElementById('address').value,
        parent: document.getElementById('parentName').value,
        contact: document.getElementById('contactNumber').value
      };

      db.ref('registrations').push(data)
        .then(() => {
          window.location.href = "submitted.html"; // redirect after saving
        })
        .catch(err => alert("Error saving registration: " + err));
    });

    function goHome() {
      window.location.href = "index.html";
    }

    function viewSubmissions() {
      window.location.href = "submitted.html";
    }
  </script>
</body>
</html>
